var m=Object.defineProperty;var l=(r,a,o)=>a in r?m(r,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[a]=o;var h=(r,a,o)=>l(r,typeof a!="symbol"?a+"":a,o);import{g as T}from"./index-COyZR0Ot.js";function j(r,a){for(var o=0;o<a.length;o++){const t=a[o];if(typeof t!="string"&&!Array.isArray(t)){for(const s in t)if(s!=="default"&&!(s in r)){const i=Object.getOwnPropertyDescriptor(t,s);i&&Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:()=>t[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}var g={exports:{}};(function(r){class a{constructor(t){h(this,"dtr",t=>t*Math.PI/180);h(this,"rtd",t=>t*180/Math.PI);h(this,"sin",t=>Math.sin(this.dtr(t)));h(this,"cos",t=>Math.cos(this.dtr(t)));h(this,"tan",t=>Math.tan(this.dtr(t)));h(this,"arcsin",t=>this.rtd(Math.asin(t)));h(this,"arccos",t=>this.rtd(Math.acos(t)));h(this,"arctan",t=>this.rtd(Math.atan(t)));h(this,"arccot",t=>this.rtd(Math.atan(1/t)));h(this,"arctan2",(t,s)=>this.rtd(Math.atan2(t,s)));this.methods={MWL:{fajr:18,isha:17},ISNA:{fajr:15,isha:15},Egypt:{fajr:19.5,isha:17.5},Makkah:{fajr:18.5,isha:"90 min"},Karachi:{fajr:18,isha:18},Tehran:{fajr:17.7,maghrib:4.5,midnight:"Jafari"},Jafari:{fajr:16,maghrib:4,midnight:"Jafari"},France:{fajr:12,isha:12},Russia:{fajr:16,isha:15},Singapore:{fajr:20,isha:18},defaults:{isha:14,maghrib:"1 min",midnight:"Standard"}},this.settings={dhuhr:"0 min",asr:"Standard",highLats:"NightMiddle",tune:{},format:"24h",rounding:"nearest",utcOffset:"auto",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,location:[0,-new Date().getTimezoneOffset()/4],iterations:1},this.labels=["Fajr","Sunrise","Dhuhr","Asr","Sunset","Maghrib","Isha","Midnight"],this.method(t||"MWL")}method(t){return this.set(this.methods.defaults).set(this.methods[t])}adjust(t){return this.set(t)}location(t){return this.set({location:t})}timezone(t){return this.set({timezone:t})}tune(t){return this.set({tune:t})}round(t="nearest"){return this.set({rounding:t})}format(t){return this.set({format:t})}set(t){return Object.assign(this.settings,t),this}utcOffset(t="auto"){return typeof t=="number"&&Math.abs(t)<16&&(t*=60),this.set({timezone:"UTC"}),this.set({utcOffset:t})}times(t=0){typeof t=="number"&&(t=new Date(t<1e3?Date.now()+t*864e5:t)),t.constructor===Date&&(t=[t.getFullYear(),t.getMonth()+1,t.getDate()]),this.utcTime=Date.UTC(t[0],t[1]-1,t[2]);let s=this.computeTimes();return this.formatTimes(s),s}getTimes(t,s,i="auto",e=0,n="24h"){if(!s)return this.times(t);const u=i=="auto"?i:i+e;return this.location(s).utcOffset(u).format(n),this.times(t)}setMethod(t){this.method(t)}computeTimes(){let t={fajr:5,sunrise:6,dhuhr:12,asr:13,sunset:18,maghrib:18,isha:18,midnight:24};for(let s=0;s<this.settings.iterations;s++)t=this.processTimes(t);return this.adjustHighLats(t),this.updateTimes(t),this.tuneTimes(t),this.convertTimes(t),t}processTimes(t){const s=this.settings,i=.833;return{fajr:this.angleTime(s.fajr,t.fajr,-1),sunrise:this.angleTime(i,t.sunrise,-1),dhuhr:this.midDay(t.dhuhr),asr:this.angleTime(this.asrAngle(s.asr,t.asr),t.asr),sunset:this.angleTime(i,t.sunset),maghrib:this.angleTime(s.maghrib,t.maghrib),isha:this.angleTime(s.isha,t.isha),midnight:this.midDay(t.midnight)+12}}updateTimes(t){const s=this.settings;if(this.isMin(s.maghrib)&&(t.maghrib=t.sunset+this.value(s.maghrib)/60),this.isMin(s.isha)&&(t.isha=t.maghrib+this.value(s.isha)/60),s.midnight=="Jafari"){const i=this.angleTime(s.fajr,29,-1)+24;t.midnight=(t.sunset+(this.adjusted?t.fajr+24:i))/2}t.dhuhr+=this.value(s.dhuhr)/60}tuneTimes(t){const s=this.settings.tune;for(let i in t)i in s&&(t[i]+=s[i]/60)}convertTimes(t){const s=this.settings.location[1];for(let i in t){const e=t[i]-s/15,n=this.utcTime+Math.floor(e*36e5);t[i]=this.roundTime(n)}}roundTime(t){const s={up:"ceil",down:"floor",nearest:"round"}[this.settings.rounding];if(!s)return t;const i=6e4;return Math[s](t/i)*i}sunPosition(t){const s=this.settings.location[1],i=this.utcTime/864e5-10957.5+this.value(t)/24-s/360,e=this.mod(357.529+.98560028*i,360),n=this.mod(280.459+.98564736*i,360),u=this.mod(n+1.915*this.sin(e)+.02*this.sin(2*e),360),c=23.439-36e-8*i,f=this.mod(this.arctan2(this.cos(c)*this.sin(u),this.cos(u))/15,24);return{declination:this.arcsin(this.sin(c)*this.sin(u)),equation:n/15-f}}midDay(t){const s=this.sunPosition(t).equation;return this.mod(12-s,24)}angleTime(t,s,i=1){const e=this.settings.location[0],n=this.sunPosition(s).declination,u=-this.sin(t)-this.sin(e)*this.sin(n),c=this.arccos(u/(this.cos(e)*this.cos(n)))/15;return this.midDay(s)+c*i}asrAngle(t,s){const i={Standard:1,Hanafi:2}[t]||this.value(t),e=this.settings.location[0],n=this.sunPosition(s).declination;return-this.arccot(i+this.tan(Math.abs(e-n)))}adjustHighLats(t){const s=this.settings;if(s.highLats=="None")return;this.adjusted=!1;const i=24+t.sunrise-t.sunset;Object.assign(t,{fajr:this.adjustTime(t.fajr,t.sunrise,s.fajr,i,-1),isha:this.adjustTime(t.isha,t.sunset,s.isha,i),maghrib:this.adjustTime(t.maghrib,t.sunset,s.maghrib,i)})}adjustTime(t,s,i,e,n=1){const c={NightMiddle:.5,OneSeventh:.14285714285714285,AngleBased:.016666666666666666*this.value(i)}[this.settings.highLats]*e,f=(t-s)*n;return(isNaN(t)||f>c)&&(t=s+c*n,this.adjusted=!0),t}formatTimes(t){for(let s in t)t[s]=this.formatTime(t[s])}formatTime(t){const s=this.settings.format,i="-----";return isNaN(t)?i:typeof s=="function"?s(t):s.toLowerCase()=="x"?Math.floor(t/(s=="X"?1e3:1)):this.timeToString(t,s)}timeToString(t,s){const i=this.settings.utcOffset,n=new Date(t+(i=="auto"?0:i)*6e4).toLocaleTimeString("en-US",{timeZone:this.settings.timezone,hour12:s!="24h",hour:s=="24h"?"2-digit":"numeric",minute:"2-digit"});return s=="12H"?n.replace(/ ?[AP]M/,""):n}value(t){return+String(t).split(/[^0-9.+-]/)[0]}isMin(t){return String(t).indexOf("min")!=-1}mod(t,s){return(t%s+s)%s}}r.exports&&(r.exports={PrayTime:a})})(g);var d=g.exports;const p=T(d),y=j({__proto__:null,default:p},[d]);export{y as p};
